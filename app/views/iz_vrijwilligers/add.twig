{% include 'iz_subnavigation.twig' %}

<h1>Vrijwilliger toevoegen</h1>

{% if filterForm is defined %}
    {% form_theme filterForm 'form_div_layout.html.twig' %}
    Zoek een bestaande vrijwilliger op naam, BSN of geboortedatum.
    {{ form(filterForm) }}
{% endif %}

{% if vrijwilligers is defined %}
    <p>
        Selecteer de gewenste vrijwilliger in onderstaande lijst of klik op
        "Nieuwe vrijwilliger" als deze niet in de lijst voorkomt.
    </p>
    <p>
        {{ html.addLink({action: 'add', 0: 'new'})|raw }}
        {{ html.link('Nieuwe vrijwilliger', {action: 'add', 0: 'new'})|raw }}
    </p>
    <table>
        <thead>
            <tr>
                <th>Naam</th>
                <th>BSN</th>
                <th>Geboortedatum</th>
            </tr>
        </thead>
        {% for vrijwilliger in vrijwilligers %}
            {% set url = {action: 'add', 0: vrijwilliger.id} %}
            <tr>
                <td>{{ html.link(vrijwilliger, url)|raw }}</td>
                <td>{{ html.link(vrijwilliger.bsn, url)|raw }}</td>
                <td>{{ html.link(vrijwilliger.geboortedatum ? vrijwilliger.geboortedatum|date('d-m-Y'), url)|raw }}</td>
            </tr>
        {% endfor %}
    </table>
{% endif %}

{% if creationForm is defined %}
    {{ form_start(creationForm) }}
        <fieldset class="twoDivs">
            <legend>Basisgegevens</legend>
            <div class="leftDiv">
                {{ form_row(creationForm.voornaam) }}
                {{ form_row(creationForm.tussenvoegsel) }}
                {{ form_row(creationForm.achternaam) }}
                {{ form_row(creationForm.roepnaam) }}
                {{ form_row(creationForm.geslacht) }}
            </div>
            <div class="rightDiv">
                {{ form_row(creationForm.geboortedatum) }}
                {{ form_row(creationForm.land, {label: 'Geboorteland'}) }}
                {{ form_row(creationForm.nationaliteit) }}
                {{ form_row(creationForm.bsn) }}
                {{ form_row(creationForm.medewerker) }}
                {{ form_row(creationForm.vogAangevraagd) }}
                {{ form_row(creationForm.vogAanwezig) }}
                {{ form_row(creationForm.overeenkomstAanwezig) }}
            </div>
        </fieldset>
        <fieldset class="twoDivs">
            <legend>Contactgegevens</legend>
            <div class="leftDiv">
                {{ form_row(creationForm.adres) }}
                {{ form_row(creationForm.postcode) }}
                {{ form_row(creationForm.plaats) }}
                {{ form_row(creationForm.email) }}
            </div>
            <div class="rightDiv">
                {{ form_row(creationForm.mobiel) }}
                {{ form_row(creationForm.telefoon) }}
                {{ form_row(creationForm.opmerking) }}
                {{ form_row(creationForm.geenPost) }}
                {{ form_row(creationForm.geenEmail) }}
                <br>
                <button type="submit">Opslaan</button>
            </div>
        </fieldset>
    {{ form_end(creationForm) }}
{% endif %}
