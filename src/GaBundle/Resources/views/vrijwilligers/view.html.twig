{% extends 'GaBundle::view.html.twig' %}
{% import '::html.macro.twig' as html %}

{% block content_left %}
    <h2>Groepsactiviteiten</h2>
    <p>
        {% if entity.afsluitdatum %}
            {% set open_link = path(route_base~'open', {id: entity.id}) %}
            {{ html.addLink(open_link)|raw }}
            {{ html.link('Dossier heropenen', open_link)|raw }}
        {% else %}
            {% set edit_link = path(route_base~'edit', {id: entity.id}) %}
            {{ html.editLink(edit_link)|raw }}
            {{ html.link('Deelnemer wijzigen', edit_link)|raw }}

            {% if entity.deletable %}
                {% set delete_link = path(route_base~'delete', {id: entity.id}) %}
                {{ html.deleteLink(delete_link)|raw }}
            {% endif %}

            {% set close_link = path(route_base~'close', {id: entity.id}) %}
            {{ html.deleteLink(close_link)|raw }}
            {{ html.link(entity_name|capitalize~' afsluiten', close_link)|raw }}
        {% endif %}
    </p>
    <dl class="dl-horizontal">
        <dt>#</dt>
        <dd>{{ entity.vrijwilliger.id }}</dd>
        <dt>Naam</dt>
        <dd>{{ entity.vrijwilliger.naam }}</dd>
        <dt>Medewerker</dt>
        <dd>{{ entity.medewerker }}</dd>
        <dt>Historie</dt>
        <dd>
            <ul>
                {% for status in entity.statussen %}
                    <li>{{ status }}</li>
                {% endfor %}
            </ul>&nbsp;
        </dd>
    </dl>
    {% include '::vrijwilliger_basis.html.twig' with {vrijwilliger: entity.vrijwilliger} %}
{% endblock %}

{% block content_right %}
    <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#groepen">Groepen</a></li>
        <li><a data-toggle="tab" href="#activiteiten">Activiteiten</a></li>
        <li><a data-toggle="tab" href="#verslagen">Verslagen</a></li>
    </ul>
    <div class="tab-content">
        <div id="groepen" class="tab-pane active">
            {% include 'GaBundle:lidmaatschappen:_list.html.twig' %}
        </div>
        <div id="activiteiten" class="tab-pane">
            {% include 'GaBundle:deelnames:_list.html.twig' %}
        </div>
        <div id="verslagen" class="tab-pane">
            {% include 'GaBundle:verslagen:_list.html.twig' %}
        </div>
    </div>
{% endblock %}
